# Coturn TURN/STUN server configuration
# Generated by Ansible

# Listening ports
listening-port={{ turn_listening_port }}
tls-listening-port={{ turn_tls_port }}
alt-listening-port={{ turn_alt_port }}
alt-tls-listening-port={{ turn_alt_tls_port }}

# External IP (will be set by systemd)
external-ip=$(curl -s https://ipv4.icanhazip.com/)

# Realm
realm={{ turn_realm }}

# Authentication
use-auth-secret
static-auth-secret={{ turn_shared_secret }}

# Logging
verbose
log-file=/var/log/turnserver/turnserver.log

# Security
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1
no-sslv2
no-sslv3

# Network
relay-device=eth0

# Media relay port range
min-port={{ turn_min_port }}
max-port={{ turn_max_port }}

# Denied peer IPs (private networks)
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=127.0.0.0-127.255.255.255

# Allowed peer IPs
allowed-peer-ip=0.0.0.0-255.255.255.255
