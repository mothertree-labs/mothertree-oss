# Example secrets.tfvars.env file
# Copy this file to secrets.tfvars.env and fill in your actual values
# Then source it: source secrets.tfvars.env

# =============================================================================
# REQUIRED: Linode API Token
# =============================================================================
# Get your API token from: https://cloud.linode.com/profile/tokens
export TF_VAR_linode_token="your-linode-api-token-here"

# =============================================================================
# REQUIRED: TLS Email for Let's Encrypt
# =============================================================================
# This email will be used for SSL certificate notifications
export TF_VAR_tls_email="your-email@example.com"

# =============================================================================
# REQUIRED: Database Passwords
# =============================================================================
# Generate secure passwords for your databases
export TF_VAR_postgres_password="your-secure-postgres-password-here"
# REQUIRED: Redis Password
export TF_VAR_redis_password="your-redis-password-here"

# =============================================================================
# REQUIRED: Matrix Registration Shared Secret
# =============================================================================
# Generate a secure random secret for Matrix admin API user registration
# This secret provides admin access to create users via the API
# Use a password generator to create a secure random string (at least 32 characters)
export TF_VAR_matrix_registration_shared_secret="your-secure-random-shared-secret-here"

# =============================================================================
# REQUIRED: Grafana Admin Password
# =============================================================================
# Set a secure password for Grafana admin user
# This will be used to access monitoring dashboards
export TF_VAR_grafana_admin_password="your-secure-grafana-password-here"

# =============================================================================
# REQUIRED: SSH Public Key for TURN Server
# =============================================================================
# Generate SSH key pair if you don't have one:
# ssh-keygen -t rsa -b 4096 -C "your-email@example.com"
# Then copy the contents of ~/.ssh/id_rsa.pub here
export TF_VAR_ssh_public_key="ssh-rsa AAAAB3NzaC1yc2EAAAA... your-public-key-here"

# =============================================================================
# REQUIRED: TURN Server Shared Secret
# =============================================================================
# Generate a secure random secret for TURN server authentication
# This secret is used for Matrix video calls to work properly
# Use a password generator to create a secure random string (at least 32 characters)
export TF_VAR_turn_shared_secret="your-secure-turn-shared-secret-here"

# =============================================================================
# REQUIRED: Cloudflare DNS Configuration
# =============================================================================
# Get your Cloudflare API token from: https://dash.cloudflare.com/profile/api-tokens
# Create a token with Zone:Zone:Read and Zone:DNS:Edit permissions
export TF_VAR_cloudflare_api_token="your-cloudflare-api-token-here"

# Get your Cloudflare Zone ID from: https://dash.cloudflare.com/
# Go to your domain → Overview → Zone ID (right sidebar)
export TF_VAR_cloudflare_zone_id="your-cloudflare-zone-id-here"

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
# 1. Copy this file to secrets.tfvars.env
# 2. Fill in your actual values
# 3. Source the file before running terraform:
#    source secrets.tfvars.env
# 4. Run terraform commands:
#    cd phase1 && terraform init && terraform plan && terraform apply
#    cd ../phase2 && terraform init && terraform plan && terraform apply 


# =============================================================================
# NOTE: Tenant-Specific Secrets
# =============================================================================
# OIDC secrets, S3 credentials, and other tenant-specific values are now
# configured per-tenant in tenants/<tenant>/<env>.secrets.yaml
# See tenants/example/dev.secrets.yaml.example for the full list.

# =============================================================================
# OPTIONAL: Matrix Alerting Configuration
# =============================================================================
# Access token for the Matrix alertbot user to post alerts to a room
# To create:
#   1. Create a user (e.g., @alertbot:matrix.example.com) 
#   2. Login and get access token via Element or API:
#      curl -X POST "https://matrix.example.com/_matrix/client/v3/login" \
#        -H "Content-Type: application/json" \
#        -d '{"type": "m.login.password", "user": "alertbot", "password": "YOUR_PASSWORD"}'
#   3. Copy the access_token from the response
# export MATRIX_ALERTMANAGER_ACCESS_TOKEN="your-matrix-access-token-here"

# Optional: Override the default alerts room ID
# export MATRIX_ALERTS_ROOM_ID="!your-room-id:matrix.example.com"